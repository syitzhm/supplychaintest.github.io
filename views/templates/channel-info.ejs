<%layout('../layout')%>

<div id="page-wrapper" style="margin-left:20px;margin-right:20px">
    <div class="row">
        <div class="col-lg-12">
            <h1 class="page-header">
                <%=channelName?channelName:channelID%>
            </h1>
        </div>
        <!-- /.col-lg-12 -->
    </div>
    <!-- /.row -->
    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-body">
                    <h3>Channel Information</h3>
                    <div class="table-responsive">
                        <table class="table table-bordered table-striped">
                            <tbody id="info">

                            </tbody>
                        </table>
                    </div>
                    <div id="error-channel-div" class="alert alert-danger" style="display: none;"></div>
                </div>
            </div>
        </div>
        <!-- /.col-lg-12 -->
    </div>

    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-body">
                    <h3>Search Transaction ID or Object</h3>
                    <form>
                        <div class="form-group">
                            <select id="select-search-type" class="form-control">
                                <option selected value='1'>Transaction ID</option>
                                <option value='2'>Object ID</option>
                            </select>
                        </div>
                        <div class="form-group" id="select-search-chaincode-container">
                            <label for="select-search-chaincode">Choose a chaincode:</label>
                            <select id="select-search-chaincode" class="form-control">
                                <option disabled selected value='0'> -- select a chaincode -- </option>
                            </select>
                        </div>
                        <div class="form-group">
                            <input type="text" id="text-object-search" class="form-control" placeholder="Search...">
                        </div>
                        <div class="text-right">
                            <button type='button' onclick="search()" class="btn btn-default" style="width: 180px;"><i
                                    class="fa fa-search"></i></button>
                        </div>
                    </form>
                    <div class="table-responsive" id="search-info-container" style="display: none;margin-top:20px">
                        <table class="table table-bordered table-striped">
                            <tbody id="search-info">

                            </tbody>
                        </table>
                    </div>
                    <div id="object-info-container" style="width:100%;margin-top:20px;display: none;">
                        <div class="table-responsive">
                            <table class="table table-bordered table-striped">
                                <tbody id="object-info">

                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div id="error-div" class="alert alert-danger" style="display: none;"></div>
                </div>
            </div>
        </div>
    </div>
    <!-- /.col-lg-12 -->

    <div class="row">
        <div class="col-lg-12">
            <div class="panel panel-default">
                <div class="panel-body">
                    <div class="form-group">
                        <h3>View Block</h3>
                        <select id="select-block-number" class="form-control">
                            <option disabled selected value> -- select a number -- </option>
                        </select>
                    </div>
                    <div id="block-info-container" class="table-responsive" style="display: none;">
                        <table class="table table-bordered table-striped">
                            <tbody id="block-info">

                            </tbody>
                        </table>
                    </div>
                    <div id="block-error-div" class="alert alert-danger" style="display: none;"></div>
                </div>
            </div>
        </div>
        <!-- /.col-lg-12 -->
    </div>

</div>
<!-- /#page-wrapper -->
<% if (channelID) { %>
<script>
    const channelID = '<%= channelID %>';            
</script>
<% } %>
<% if (txid) { %>
<script>
    const txid = '<%= txid %>';            
</script>
<% } %>

<script src="/js/channel_functions.js"></script>
<script src="/js/channel_info.js"></script>